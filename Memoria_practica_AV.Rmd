---
title: "FINA DATA"
author: "4to mates"
date: "`r Sys.Date()`"
output:
  html_document:
    theme: flatly
    toc: yes
    toc_float:
      collapsed: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Cargamos las librerias que vamos necesitando a lo largo del codigo
library(dplyr)
library(rstatix)
library(ggplot2)
```


# Introducción

El conjunto de datos obtenidos abarca los resultados del Campeonato Mundial de Natación Kazán 2015, con los correspondientes datos de cada nadador y prueba.

Los datos han sido extraídos de [Omega](http://www.omegatiming.com/File/Download?id=00010F0200FFFFFFFFFFFFFFFFFFFF08), la plataforma oficial de tiempos de la World Aquatics.

El conjunto de datos contiene información sobre los nadadores (fecha de nacimiento, país, id), y sobre la prueba nadada (tiempo de reacción, parciales, tiempo total, estilo, serie).

Según la descripción oficial de los datos, las variables que conforman el conjunto de datos son:

* athleteid: id del nadador (único)
* lastname: Apellidos del nadador
* firstname: El nombre del nadador
* birthdate: Fecha de nacimiento del nadador
* gender: Género del nadador/a
* name: Nombre del país
* code: abreviatura del país.
* eventid: id de la prueba nadada (único)
* heat: Serie en la que nadaron
* lane: Calle en la que nadaron (0 a 9)
* points: puntos FINA que realizaron. (es una "estimación" entre el mejor tiempo o récord del mundo, y el tiempo realizado. )
* reactiontime: Tiempo de reacción en la salida.
* swimtime: tiempo tardado
* split: Parcial 
* cumswimtime: Tiempo acumulado en el parcial
* splitdistance: Distancia del parcial 
* daytime: hora a la que se nadó
* round: ronda (preliminar, semifinal, final)
* distance: distancia de la prueba
* relaycount: ¿?
* stroke: Estilo de nado en el que se realizó la prueba.
* splitswimtime: Tiempo del parcial (50m)


# Entender los datos
A continuación leemos los datos:

```{r lectura}
datos2015 <- read.csv("datos/2015_FINA.csv", header = TRUE, sep=',')
dim(datos2015)
```
Vamos a explorar el tipo de variables que tenemos:
```{r variables}
str(datos2015)
```

Vamos a intentar entender la primera observación:
```{r}
head(datos2015,1)
#enseña la primera observación de la base de datos

```

Podemos observar una observación de la nadadora albanesa *Noel Borshi*, la cual nació el 13 de febrero de 1996, es Albanesa. Los datos nos muestran el primer parcial del 100 mariposa que nadó en preliminares a las 9:30 am. Nadó ese primer 50 en 29.63, tuvo un tiempo de reacción en la salida de 0.77. Podemos ver que su tiempo total en la prueba fue 63.65, lo cual le asigna 680 puntos FINA. Por último, nadó en la serie 1 calle 4.

# Análisis exploratorio de datos


## Una evento específico.

Vamos a elegir un evento específico y vamos a analizarlo.




#Clase 1
Guardamos como factores las variables categóricas:

```{r}
datos2015$gender<-as.factor(datos2015$gender)
```

Veamos si ha funcionado:

```{r}
summary(datos2015)
```

Podemos poner las variables categóricas como factores de un modo mejor usando la librería dplyr. Busco dplyr R data frame convert as factor.

```{r}
datos2015<- datos2015 %>% convert_as_factor(gender,name,round, stroke)
```

Vamos a hacer algún gráfico:

```{r}
p<-ggplot(datos2015,aes(x=reactiontime))+geom_histogram()
p

```